{"version":3,"sources":["components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/App.module.css","components/searchbar/Searchbar.module.css","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/searchbar/Searchbar.js","utils/Api.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js"],"names":["module","exports","ImageGalleryItem","onModalOpen","img","className","imageGalleryItem","imageGalleryItem_image","src","webformatURL","alt","onClick","largeImageURL","ImageGallery","imgList","imageGallery","map","item","Searchbar","onSubmit","useState","state","setState","searchbar","e","preventDefault","searchForm","type","searchForm_button","searchForm_button_label","onChange","target","value","searchForm_input","getApiData","q","page","fetch","then","response","json","hits","Button","onLoadMore","button","Modal","modalImg","onModalClose","useEffect","window","addEventListener","removeEventListener","overlay","modal","initialState","name","loader","isModalOpen","App","prev","images","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","length","code","color","height","width","timeout","position","ReactDOM","render","app","getElementById"],"mappings":"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","file":"static/js/main.4048c868.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__14jMG\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__k92qi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__TLRGF\",\"modal\":\"Modal_modal__2N4jz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2rqF7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__c8LRS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__YDzHH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__31bMI\",\"searchForm\":\"Searchbar_searchForm__Z8zOK\",\"searchForm_button\":\"Searchbar_searchForm_button__3oDeJ\",\"searchForm-button\":\"Searchbar_searchForm-button__2c-sJ\",\"searchForm_button_label\":\"Searchbar_searchForm_button_label__2THMP\",\"searchForm_input\":\"Searchbar_searchForm_input__v6MzS\"};","import React from \"react\";\r\nimport {\r\n  imageGalleryItem,\r\n  imageGalleryItem_image,\r\n} from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ onModalOpen, img }) => {\r\n\r\n  const onModalChanger = () => {\r\n    onModalOpen(img.largeImageURL);\r\n  };\r\n\r\n  return (\r\n    <li className={imageGalleryItem}>\r\n      <img\r\n        className={imageGalleryItem_image}\r\n        src={img.webformatURL}\r\n        alt=\"some\"\r\n        onClick={onModalChanger}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\nimport { imageGallery } from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({onModalOpen, imgList}) => {\r\n\r\n    return (\r\n      <>\r\n        <ul className={imageGallery}>\r\n          {imgList.map((item) => (\r\n            <ImageGalleryItem img={item} onModalOpen={onModalOpen}/>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  searchbar,\r\n  searchForm,\r\n  searchForm_button,\r\n  searchForm_button_label,\r\n  searchForm_input,\r\n} from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [state, setState] = useState(\"\");\r\n\r\n  const onInputChange = (e) => {\r\n    setState(e.target.value);\r\n  };\r\n\r\n  const onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(state);\r\n    setState(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={searchbar}>\r\n      <form onSubmit={onHandleSubmit} className={searchForm}>\r\n        <button type=\"submit\" className={searchForm_button}>\r\n          <span className={searchForm_button_label}></span>\r\n        </button>\r\n\r\n        <input\r\n          type=\"text\"\r\n          onChange={onInputChange}\r\n          value={state}\r\n          className={searchForm_input}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","const KEY = \"23653781-213be0db305102de1ebeb2694\";\r\n\r\nexport const getApiData = (q, page) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${q}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then((response) => response.json())\r\n    .then((response) => response.hits)\r\n    .then((response) => {\r\n      return response;\r\n    });\r\n};\r\n","import React from 'react'\r\nimport {button} from './Button.module.css'\r\n\r\nconst Button = ({ onLoadMore}) => {\r\n        return (\r\n            <button className={button} onClick={onLoadMore}>\r\n                Load More\r\n            </button>\r\n        );\r\n    \r\n}\r\n\r\nexport default Button;","import React, { useEffect } from \"react\";\r\nimport { overlay, modal } from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ modalImg, onModalClose }) => {\r\n  \r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", onModalClose);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onModalClose);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className={overlay}>\r\n        <div className={modal}>\r\n          <img src={modalImg} alt=\"some\" />\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport { getApiData } from \"../utils/Api\";\r\nimport Button from \"./button/Button\";\r\nimport Modal from \"./modal/Modal\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  imgList: [],\r\n  page: 1,\r\n  loader: false,\r\n  isModalOpen: false,\r\n  modalImg: \"\",\r\n}\r\n\r\nconst App = () => {\r\n  const [state, setState] = useState({ ...initialState });\r\n\r\n  const onModalOpen = (modalImg) => {\r\n    setState((prev) => ({...prev, isModalOpen: true, modalImg: modalImg }));\r\n  };\r\n\r\n  const onModalClose = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    setState((prev) => ({...prev, isModalOpen: false, modalImg: \"\" }));\r\n  };\r\n\r\n  const onSubmit = (q) => {\r\n    if (this.state.name !== q) {\r\n      setState((prev) => ({ imgList: [], name: q }));\r\n    }\r\n  };\r\n\r\n  useEffect((prev) => {\r\n    if (state.name !== prev.name && state.name !== \"\") {\r\n      setState((prev) => ({...prev, loader: true }));\r\n      getApiData(state.name, state.page)\r\n        .then((images) =>\r\n          setState((prev) => ({...prev, imgList: [...prev.imgList, ...images] }))\r\n        )\r\n        .finally(() => {\r\n          setState((prev) => ({...prev, loader: false }));\r\n        });\r\n    }\r\n\r\n    if (state.page !== prev.page) {\r\n      setState((prev) => ({...prev, loader: true }));\r\n      getApiData(state.name, state.page)\r\n        .then((images) =>\r\n          setState((prev) => ({...prev,\r\n            imgList: [...prev.imgList, ...images],\r\n            loader: false,\r\n          }))\r\n        )\r\n        .finally(() => {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          });\r\n        });\r\n    }\r\n  }, [state])\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   if (this.state.name !== prevState.name && this.state.name !== \"\") {\r\n  //     this.setState({ loader: true });\r\n  //     getApiData(this.state.name, this.state.page)\r\n  //       .then((images) =>\r\n  //         this.setState((prev) => ({ imgList: [...prev.imgList, ...images] }))\r\n  //       )\r\n  //       .finally(() => {\r\n  //         this.setState({ loader: false });\r\n  //       });\r\n  //   }\r\n\r\n  //   if (this.state.page !== prevState.page) {\r\n  //     this.setState({ loader: true });\r\n  //     getApiData(this.state.name, this.state.page)\r\n  //       .then((images) =>\r\n  //         this.setState((prev) => ({\r\n  //           imgList: [...prev.imgList, ...images],\r\n  //           loader: false,\r\n  //         }))\r\n  //       )\r\n  //       .finally(() => {\r\n  //         window.scrollTo({\r\n  //           top: document.documentElement.scrollHeight,\r\n  //           behavior: \"smooth\",\r\n  //         });\r\n  //       });\r\n  //   }\r\n  // }\r\n\r\n  const onLoadMore = () => {\r\n    setState((prev) => ({...prev,\r\n      page: prev.page + 1,\r\n    }));\r\n  };\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={onSubmit} />\r\n        <ImageGallery\r\n          imgList={state.imgList}\r\n          onModalOpen={onModalOpen}\r\n        />\r\n        {state.imgList.length > 0 && (\r\n          <Button onLoadMore={onLoadMore} />\r\n        )}\r\n        {state.isModalOpen && (\r\n          <Modal\r\n            modalImg={state.modalImg}\r\n            onModalClose={onModalClose}\r\n          />\r\n        )}\r\n\r\n        {state.loader && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#001aff\"\r\n            height={200}\r\n            width={200}\r\n            timeout={3000}\r\n            position=\"top-center\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { app } from './components/App.module.css';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App className={app}/>\r\n  </>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}
(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__14jMG",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__k92qi"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__TLRGF",modal:"Modal_modal__2N4jz"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2rqF7"}},14:function(e,t,a){e.exports={button:"Button_button__c8LRS"}},16:function(e,t,a){e.exports={app:"App_app__YDzHH"}},21:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__31bMI",searchForm:"Searchbar_searchForm__Z8zOK",searchForm_button:"Searchbar_searchForm_button__3oDeJ","searchForm-button":"Searchbar_searchForm-button__2c-sJ",searchForm_button_label:"Searchbar_searchForm_button_label__2THMP",searchForm_input:"Searchbar_searchForm_input__v6MzS"}},44:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(12),c=a.n(o),r=(a(21),a(6)),i=a(3),s=a(8),m=a(10),l=a(0),u=function(e){var t=e.onModalOpen,a=e.img;return Object(l.jsx)("li",{className:m.imageGalleryItem,children:Object(l.jsx)("img",{className:m.imageGalleryItem_image,src:a.webformatURL,alt:"some",onClick:function(){t(a.largeImageURL)}})})},b=a(13),j=function(e){var t=e.onModalOpen,a=e.imgList;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{className:b.imageGallery,children:a.map((function(e){return Object(l.jsx)(u,{img:e,onModalOpen:t})}))})})},d=a(4),g=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],r=o[1];return Object(l.jsx)("header",{className:d.searchbar,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),r("")},className:d.searchForm,children:[Object(l.jsx)("button",{type:"submit",className:d.searchForm_button,children:Object(l.jsx)("span",{className:d.searchForm_button_label})}),Object(l.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},value:c,className:d.searchForm_input})]})})},h=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23653781-213be0db305102de1ebeb2694","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){return e.hits})).then((function(e){return e}))},O=a(14),f=function(e){var t=e.onLoadMore;return Object(l.jsx)("button",{className:O.button,onClick:t,children:"Load More"})},p=a(11),_=function(e){var t=e.modalImg,a=e.onModalClose;return Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(l.jsx)("div",{className:p.overlay,children:Object(l.jsx)("div",{className:p.modal,children:Object(l.jsx)("img",{src:t,alt:"some"})})})},x=a(15),y=a.n(x),v=(a(43),{name:"",imgList:[],page:1,loader:!1,isModalOpen:!1,modalImg:""}),I=function(){var e=Object(n.useState)(Object(i.a)({},v)),t=Object(s.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(e){a.name!==e.name&&""!==a.name&&(o((function(e){return Object(i.a)(Object(i.a)({},e),{},{loader:!0})})),h(a.name,a.page).then((function(e){return o((function(t){return Object(i.a)(Object(i.a)({},t),{},{imgList:[].concat(Object(r.a)(t.imgList),Object(r.a)(e))})}))})).finally((function(){o((function(e){return Object(i.a)(Object(i.a)({},e),{},{loader:!1})}))}))),a.page!==e.page&&(o((function(e){return Object(i.a)(Object(i.a)({},e),{},{loader:!0})})),h(a.name,a.page).then((function(e){return o((function(t){return Object(i.a)(Object(i.a)({},t),{},{imgList:[].concat(Object(r.a)(t.imgList),Object(r.a)(e)),loader:!1})}))})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[a]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(g,{onSubmit:function(e){undefined.state.name!==e&&o((function(t){return{imgList:[],name:e}}))}}),Object(l.jsx)(j,{imgList:a.imgList,onModalOpen:function(e){o((function(t){return Object(i.a)(Object(i.a)({},t),{},{isModalOpen:!0,modalImg:e})}))}}),a.imgList.length>0&&Object(l.jsx)(f,{onLoadMore:function(){o((function(e){return Object(i.a)(Object(i.a)({},e),{},{page:e.page+1})}))}}),a.isModalOpen&&Object(l.jsx)(_,{modalImg:a.modalImg,onModalClose:function(e){"Escape"===e.code&&o((function(e){return Object(i.a)(Object(i.a)({},e),{},{isModalOpen:!1,modalImg:""})}))}}),a.loader&&Object(l.jsx)(y.a,{type:"Puff",color:"#001aff",height:200,width:200,timeout:3e3,position:"top-center"})]})},F=a(16);c.a.render(Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(I,{className:F.app})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.4048c868.chunk.js.map